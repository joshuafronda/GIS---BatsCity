<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Batangas GIS</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-slate-900 mb-6">ğŸ” Debug Page</h1>
        
        <div class="bg-white rounded-lg p-6 mb-4 shadow">
            <h2 class="text-xl font-semibold mb-4">âœ… Basic HTML/CSS Test</h2>
            <p class="text-slate-600">If you can see this, basic deployment works.</p>
        </div>

        <div class="bg-white rounded-lg p-6 mb-4 shadow">
            <h2 class="text-xl font-semibold mb-4">ğŸŒ External Resources Test</h2>
            <div id="resource-test" class="text-slate-600">Testing...</div>
        </div>

        <div class="bg-white rounded-lg p-6 mb-4 shadow">
            <h2 class="text-xl font-semibold mb-4">ğŸ“¦ JavaScript Test</h2>
            <button onclick="testJS()" class="bg-blue-500 text-white px-4 py-2 rounded">Test JavaScript</button>
            <div id="js-test" class="mt-2 text-slate-600"></div>
        </div>

        <div class="bg-white rounded-lg p-6 shadow">
            <h2 class="text-xl font-semibold mb-4">ğŸ“Š Console Log</h2>
            <div id="console-log" class="bg-slate-100 p-4 rounded text-sm font-mono"></div>
        </div>
    </div>

    <script>
        // Override console.log to display on page
        const originalLog = console.log;
        const originalError = console.error;
        const logDiv = document.getElementById('console-log');
        
        function addToLog(message, type = 'log') {
            const div = document.createElement('div');
            div.className = type === 'error' ? 'text-red-600' : 'text-slate-700';
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(div);
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addToLog(args.join(' '), 'log');
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addToLog(args.join(' '), 'error');
        };

        // Test external resources
        function testResources() {
            const testDiv = document.getElementById('resource-test');
            const tests = [
                { name: 'Tailwind CSS', url: 'https://cdn.tailwindcss.com' },
                { name: 'Font Awesome', url: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css' },
                { name: 'Leaflet CSS', url: 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css' },
                { name: 'Leaflet JS', url: 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js' }
            ];

            let results = [];
            tests.forEach(test => {
                fetch(test.url, { method: 'HEAD' })
                    .then(() => results.push(`âœ… ${test.name}`))
                    .catch(() => results.push(`âŒ ${test.name}`))
                    .finally(() => {
                        if (results.length === tests.length) {
                            testDiv.innerHTML = results.join('<br>');
                        }
                    });
            });
        }

        function testJS() {
            document.getElementById('js-test').innerHTML = 'âœ… JavaScript works!';
            console.log('JavaScript test successful');
        }

        // Run tests on load
        window.addEventListener('load', () => {
            console.log('Debug page loaded successfully');
            testResources();
        });
    </script>
</body>
</html>
